language:
- cpp
before_install:
- pip install --user cpp-coveralls
dist: trusty
addons:
  sonarcloud: 
  organization:"dzigen"
  token:
   secure: "iUmGsNSKR6JMaP2wgxExHckwfl2Nod3Izs/Amt1v4OSnYhiVPlHbNf7Apu8GF2y2zeT4hf7hzSGyazsIfXi9wKIU4uDaQCvsRMO82o5GgGV1zRXcKu4uekQHYbYH3CaDs6NxJEdJj78x7QoVwMVN/oxqeZKTKrxa1PAdSr67ODkFwCMA2lBWOsahbZ1HrTXfzZ6kidDEI3CVdrK4T5wRO+sOBL9bu+xtMnOhban0yl2/a6ZVV/AXvT/NVy/mI2SxTXFsQERmGe8HBlDZUq+6DOGUFX/NW6zzuZ+WNVHOG/mPI4QGYtpyRbKHXT9yZOFpb8vDpNe80GKjzA8S0XhLQfLH4Fpun6IoifcMmJJaBnSOEkBDWtXF/1rTxolZljwrxFiS5VcZTyTvoqqHdYGXvL8oxhBp+sScqnokf4lCL7fxyCK6tI2d30zvDLqLhylRpIw3KzweGPdqlNiqzTgFp6UEbVCN1v/aC3SMk14r68LrjUsKLi4TXuQfKyuWs33k0PSYZf9sJAkVwYL9l4ag1evHKTQwp16dqY3Dwu04hMc8pxyE4/PNVfnSxMWVEVbWHkoGTUNS5OTWJDh0kXKvFUZQaZ5KTmMKLHzolVJRXKOd2dnGdZvQO5jatg8TCemAa0iuUlDqZsgMj/OFoXrRXIDNMYropTrnnz7eVsq6SdE="
  
script:
- qmake
- make
- "./tests/tests"

after_success:
- coveralls --root . -E ".*external.*" -E ".*tests.*"
- build-wrapper-linux-x86-64 --out-dir bw-output make clean all
- sonar-scanner

cache:
  directories:
  - "$HOME/.sonar/cache"
  
notifications:
  email: false
