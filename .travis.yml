language:
- cpp

before_install:
  - pip install --user cpp-coveralls

addons:
  sonarcloud: 
  organization: "dzigen"
  token:
   secure: "le4ujq7a2hjvOPszSbsexXigjR38cP9Tkjshq1q0jlHiW8rCpMRhtT1dztaC1mrdAYQRwLXHHLfkm/MqFFuR8ouBIO3fZWeJFZtGM3nyO8D5mBQmePcU8j1dQF4zOSHbRZL6NtT+REIQt4dLjQySjPmOeJaXHMqKHzzbHxm0mhIToEpMTvU5xmPsjzB1um8qqkVpMPBxXDl7yPlOH955yU7zuPX3J8dYd6on+KGc1NJdJJed7hwFal2xwNUrX5JiakpS7zTVAnLACizV6pgK/5OKyFYQWKG2MaCj5LgP6v0Xiq63ZCLU7R95RyOSLBn1yBw0rkSy5YC+GMlBHb01rPS/Kiny/T6osYVRmksl7AI5t8PHoDRCvmha33m7BsZ+uRjSsd3qo3HF1j42eQ2+67dSRAM6XKRUFPUUecY+ELxkWvmxm2PaQ8FtQbOZadpd7La9zET2m6bcqSVh3A1hLJRahbV5KjBu4K43ym2v3+geP6kG6njWXQRhDC5DHIcT/OYXj+dzEOOzrBniry6IdfwnAMYEo/zmcatzeiPHnQ4Ti1pYHG9j9M/EJdTMmLq9kOv97rjw6g21z//RpP6pB91BdCstBYXMrV3q1scFgYUPE7v1bWgGYwKOIYwYMSGIR+85gkxdCb8H+H7MuUN2N+bX1aJlH6mcUzN2L5lkus8="

script:
- qmake
- make
- "./tests/tests"

after_success:
- coveralls --root . -E ".*external.*" -E ".*tests.*"
- build-wrapper-linux-x86-64 --out-dir bw-output make clean all
- sonar-scanner

cache:
  directories:
  - "$HOME/.sonar/cache"
  
notifications:
  email: false
