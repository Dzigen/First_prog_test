language:
  - cpp

before_install:
  - pip install --user cpp-coveralls

addons:
 sonarcloud:
 organization: "dzigen"
 token:
 secure:"6996099b96d7201c7b91aed220d77a1b01644c32"

script:
  - qmake
  - make
  - ./tests/tests

dist: trusty

after_success:
  - coveralls --root . -E ".*external.*" -E ".*tests.*"
  - build-wrapper-linux-x86-64 --out-dir bw-output make clean all
  - sonar-scanner

cache:
 directories:
 - '$HOME/.sonar/cache'


notifications:
  email: false
